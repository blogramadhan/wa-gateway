### WhatsApp Gateway API Examples
### Gunakan file ini dengan REST Client extension di VS Code
### Atau copy-paste ke terminal dengan curl

### Base URL
@baseUrl = http://localhost:5000

### 1. Health Check
GET {{baseUrl}}/health

### 2. Check Connection Status
GET {{baseUrl}}/status

### 3. Get QR Code (JSON)
GET {{baseUrl}}/qr

### 3b. Get QR Code (Terminal/SSH) - Perfect for SSH
GET {{baseUrl}}/qr/terminal

### 4. Send Text Message
POST {{baseUrl}}/send-message
Content-Type: application/json

{
  "number": "6281234567890",
  "message": "Halo, ini pesan test dari WhatsApp Gateway!"
}

### 4b. Send Text Message (cURL equivalent)
# curl -X POST http://localhost:5000/send-message \
#   -H "Content-Type: application/json" \
#   -d '{"number": "6281234567890", "message": "Hello from cURL!"}'

### 5. Send Message with Media (Image)
POST {{baseUrl}}/send-message
Content-Type: application/json

{
  "number": "6281234567890",
  "message": "Ini gambar untuk Anda",
  "media": {
    "data": "/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",
    "mimetype": "image/jpeg",
    "filename": "test.jpg"
  }
}

### 6. Send Group Message
POST {{baseUrl}}/send-group-message
Content-Type: application/json

{
  "group_id": "1234567890-1234567890@g.us",
  "message": "Halo grup! Ini pesan dari Gateway."
}

### 7. Get All Chats (untuk mendapatkan group_id)
GET {{baseUrl}}/chats

### 8. Logout WhatsApp
POST {{baseUrl}}/logout

### 9. Webhook Test (biasanya dipanggil otomatis)
POST {{baseUrl}}/webhook
Content-Type: application/json

{
  "from": "6281234567890@c.us",
  "to": "status@broadcast",
  "body": "Test webhook message",
  "timestamp": 1640995200,
  "type": "chat",
  "hasMedia": false
}

### ========================================
### cURL Examples (Copy & Paste ke Terminal)
### ========================================

### Health Check
# curl http://localhost:5000/health

### Get QR Code (SSH/Terminal)
# curl http://localhost:5000/qr/terminal

### Send Message
# curl -X POST http://localhost:5000/send-message \
#   -H "Content-Type: application/json" \
#   -d '{"number": "6281234567890", "message": "Hello from cURL!"}'

### Check Status
# curl http://localhost:5000/status

### Get Chats
# curl http://localhost:5000/chats
